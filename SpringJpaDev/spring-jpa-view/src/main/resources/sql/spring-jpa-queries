CREATE TABLE TB_DEPARTMENT(
	ID INT(11) NOT NULL AUTO_INCREMENT,
	NAME VARCHAR(64) NOT NULL,
    PRIMARY KEY (ID),
    UNIQUE (NAME)
);

CREATE TABLE TB_ID_CARD(
	ID INT(12) NOT NULL AUTO_INCREMENT,
	SERIAL_NUMBER VARCHAR(16) NOT NULL,
    PRIMARY KEY (ID),
    UNIQUE (SERIAL_NUMBER)
);

CREATE TABLE TB_PROJECT(
	ID INT(10) NOT NULL AUTO_INCREMENT,
	NAME VARCHAR(64) NOT NULL,
    PRIMARY KEY (ID),
    UNIQUE (NAME)
);

CREATE TABLE TB_EMPLOYEE(
	ID INT(11) NOT NULL AUTO_INCREMENT,
	FIRST_NAME VARCHAR(64) NOT NULL,
	LAST_NAME VARCHAR(64) NOT NULL,
    EMAIL VARCHAR(32) NOT NULL,
    ID_CARD_ID INT(12) NOT NULL,
    DEPARTMENT_ID INT(11) NOT NULL,
    PRIMARY KEY (ID),
	UNIQUE (EMAIL),
    INDEX (ID_CARD_ID),
    INDEX (DEPARTMENT_ID),
    FOREIGN KEY (ID_CARD_ID) REFERENCES TB_ID_CARD (ID) ON UPDATE CASCADE ON DELETE RESTRICT,
	FOREIGN KEY (DEPARTMENT_ID) REFERENCES TB_DEPARTMENT (ID) ON UPDATE CASCADE ON DELETE RESTRICT
);


CREATE TABLE TB_PHONE(
	ID INT(10) NOT NULL AUTO_INCREMENT,
	PHONE VARCHAR(10) NOT NULL,
    EMPLOYEE_ID  INT(11) NOT NULL,
    PRIMARY KEY (ID),
    UNIQUE (PHONE),
    INDEX (EMPLOYEE_ID),
    FOREIGN KEY (EMPLOYEE_ID) REFERENCES TB_EMPLOYEE (ID) ON UPDATE CASCADE ON DELETE RESTRICT
);


CREATE TABLE TB_PROJECT_EMPLOYEE(
	PROJECT_ID INT(10) NOT NULL,
    EMPLOYEE_ID INT(11) NOT NULL,
	PRIMARY KEY (PROJECT_ID, EMPLOYEE_ID),
	INDEX (PROJECT_ID),
    INDEX (EMPLOYEE_ID),
    FOREIGN KEY (PROJECT_ID) REFERENCES TB_PROJECT (ID) ON UPDATE CASCADE ON DELETE RESTRICT,
	FOREIGN KEY (EMPLOYEE_ID) REFERENCES TB_EMPLOYEE (ID) ON UPDATE CASCADE ON DELETE RESTRICT
);

